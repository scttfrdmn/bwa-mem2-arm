AWS Configuration Loaded:
  Profile: aws
  Region: us-west-2
  Key: cws-aws-west-2-key
  Security Group: sg-0e849a974f163c1d9 (graviton3-ssh)
  Subnet: subnet-0a73ca94ed00cdaf9 (us-west-2a)

Starting BWA-MEM2 ARM Correctness & Performance Test
====================================================

This will:
  1. Launch 3 EC2 instances (Intel c7i, AMD c7a, ARM c7g)
  2. Build BWA-MEM2 on each architecture
  3. Run identical tests in parallel
  4. Compare correctness and performance
  5. Optionally terminate instances when done

Estimated cost: ~$0.50-1.00
Estimated time: 30-45 minutes


[0;32m[2026-01-24 14:38:05][0m Starting BWA-MEM2 x86 vs ARM comparison test

[0;32m[2026-01-24 14:38:05][0m Checking prerequisites...
[0;32m[2026-01-24 14:38:06][0m Prerequisites OK
[0;34m[INFO][0m Launching 7th generation instances for comparison:
  - Intel: c7i.xlarge (Sapphire Rapids)
  - AMD:   c7a.xlarge (Genoa)
  - ARM:   c7g.xlarge (Graviton3)


[0;34m[INFO][0m Instances launched:
  Intel (c7i.xlarge): 16.147.9.233 (ID: [0;32m[2026-01-24 14:38:06][0m Launching intel instance (c7i.xlarge)... [0;34m[INFO][0m Using AMI: ami-0fcee47b1475c1af3 [0;32m[2026-01-24 14:38:09][0m Instance ID: i-0fb1c1f29fd589926 [0;32m[2026-01-24 14:38:09][0m Waiting for instance to start... [0;32m[2026-01-24 14:38:27][0m intel instance ready at: 16.147.9.233 [0;32m[2026-01-24 14:38:27][0m Waiting for SSH... [0;32m[2026-01-24 14:38:28][0m SSH connection established i-0fb1c1f29fd589926)
  AMD   (c7a.xlarge):   34.214.178.102   (ID: [0;32m[2026-01-24 14:38:28][0m Launching amd instance (c7a.xlarge)... [0;34m[INFO][0m Using AMI: ami-0fcee47b1475c1af3 [0;32m[2026-01-24 14:38:31][0m Instance ID: i-05396bad3a969ca36 [0;32m[2026-01-24 14:38:32][0m Waiting for instance to start... [0;32m[2026-01-24 14:38:49][0m amd instance ready at: 34.214.178.102 [0;32m[2026-01-24 14:38:49][0m Waiting for SSH... [0;32m[2026-01-24 14:38:50][0m SSH connection established i-05396bad3a969ca36)
  ARM   (c7g.xlarge):   44.249.153.219   (ID: [0;32m[2026-01-24 14:38:50][0m Launching arm instance (c7g.xlarge)... [0;34m[INFO][0m Using AMI: ami-0cbac0f1d6260a580 [0;32m[2026-01-24 14:38:54][0m Instance ID: i-0c75f0a36d37fbdce [0;32m[2026-01-24 14:38:54][0m Waiting for instance to start... [0;32m[2026-01-24 14:39:12][0m arm instance ready at: 44.249.153.219 [0;32m[2026-01-24 14:39:12][0m Waiting for SSH... [0;32m[2026-01-24 14:39:13][0m SSH connection established i-0c75f0a36d37fbdce)

[0;32m[2026-01-24 14:39:13][0m Setting up Intel instance...
[0;32m[2026-01-24 14:39:13][0m Setting up intel instance...
Amazon Linux 2023 Kernel Livepatch repository   249 kB/s |  30 kB     00:00    
================================================================================
WARNING:
  A newer release of "Amazon Linux" is available.

  Available Versions:

  Version 2023.10.20260120:
    Run the following command to upgrade to 2023.10.20260120:

      dnf upgrade --releasever=2023.10.20260120

    Release notes:
     https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2023.10.20260120.html

================================================================================
Dependencies resolved.
Nothing to do.
Complete!
Last metadata expiration check: 0:00:01 ago on Sat Jan 24 22:39:22 2026.
Package time-1.9-16.amzn2023.0.2.x86_64 is already installed.
Dependencies resolved.
================================================================================
 Package              Arch     Version                      Repository     Size
================================================================================
Installing:
 gcc-c++              x86_64   11.5.0-5.amzn2023.0.5        amazonlinux    15 M
 git                  x86_64   2.50.1-1.amzn2023.0.1        amazonlinux    53 k
 make                 x86_64   1:4.3-5.amzn2023.0.2         amazonlinux   534 k
 zlib-devel           x86_64   1.2.11-33.amzn2023.0.5       amazonlinux    45 k
Installing dependencies:
 annobin-docs         noarch   12.69-1.amzn2023.0.1         amazonlinux    93 k
 annobin-plugin-gcc   x86_64   12.69-1.amzn2023.0.1         amazonlinux   974 k
 cpp                  x86_64   11.5.0-5.amzn2023.0.5        amazonlinux    11 M
 gc                   x86_64   8.0.4-5.amzn2023.0.2         amazonlinux   105 k
 gcc                  x86_64   11.5.0-5.amzn2023.0.5        amazonlinux    36 M
 gcc-plugin-annobin   x86_64   11.5.0-5.amzn2023.0.5        amazonlinux    38 k
 git-core             x86_64   2.50.1-1.amzn2023.0.1        amazonlinux   4.9 M
 git-core-doc         noarch   2.50.1-1.amzn2023.0.1        amazonlinux   2.8 M
 glibc-devel          x86_64   2.34-231.amzn2023.0.1        amazonlinux    38 k
 glibc-headers-x86    noarch   2.34-231.amzn2023.0.1        amazonlinux   444 k
 guile22              x86_64   2.2.7-2.amzn2023.0.3         amazonlinux   6.4 M
 kernel6.12-headers   x86_64   1:6.12.64-87.122.amzn2023    amazonlinux   1.5 M
 libmpc               x86_64   1.2.1-2.amzn2023.0.2         amazonlinux    62 k
 libstdc++-devel      x86_64   11.5.0-5.amzn2023.0.5        amazonlinux   2.2 M
 libtool-ltdl         x86_64   2.4.7-1.amzn2023.0.3         amazonlinux    38 k
 libxcrypt-devel      x86_64   4.4.33-7.amzn2023            amazonlinux    32 k
 perl-Error           noarch   1:0.17029-5.amzn2023.0.2     amazonlinux    41 k
 perl-File-Find       noarch   1.37-477.amzn2023.0.7        amazonlinux    25 k
 perl-Git             noarch   2.50.1-1.amzn2023.0.1        amazonlinux    41 k
 perl-TermReadKey     x86_64   2.38-9.amzn2023.0.2          amazonlinux    36 k
 perl-lib             x86_64   0.65-477.amzn2023.0.7        amazonlinux    15 k

Transaction Summary
================================================================================
Install  25 Packages

Total download size: 82 M
Installed size: 279 M
Downloading Packages:
(1/25): annobin-docs-12.69-1.amzn2023.0.1.noarc 2.9 MB/s |  93 kB     00:00    
(2/25): annobin-plugin-gcc-12.69-1.amzn2023.0.1  24 MB/s | 974 kB     00:00    
(3/25): gc-8.0.4-5.amzn2023.0.2.x86_64.rpm      6.0 MB/s | 105 kB     00:00    
(4/25): cpp-11.5.0-5.amzn2023.0.5.x86_64.rpm     74 MB/s |  11 MB     00:00    
(5/25): gcc-plugin-annobin-11.5.0-5.amzn2023.0. 1.5 MB/s |  38 kB     00:00    
(6/25): git-2.50.1-1.amzn2023.0.1.x86_64.rpm    1.9 MB/s |  53 kB     00:00    
(7/25): gcc-c++-11.5.0-5.amzn2023.0.5.x86_64.rp  80 MB/s |  15 MB     00:00    
(8/25): git-core-2.50.1-1.amzn2023.0.1.x86_64.r  77 MB/s | 4.9 MB     00:00    
(9/25): git-core-doc-2.50.1-1.amzn2023.0.1.noar  51 MB/s | 2.8 MB     00:00    
(10/25): glibc-devel-2.34-231.amzn2023.0.1.x86_ 1.3 MB/s |  38 kB     00:00    
(11/25): glibc-headers-x86-2.34-231.amzn2023.0.  15 MB/s | 444 kB     00:00    
(12/25): kernel6.12-headers-6.12.64-87.122.amzn  59 MB/s | 1.5 MB     00:00    
(13/25): guile22-2.2.7-2.amzn2023.0.3.x86_64.rp  78 MB/s | 6.4 MB     00:00    
(14/25): libmpc-1.2.1-2.amzn2023.0.2.x86_64.rpm 2.0 MB/s |  62 kB     00:00    
(15/25): libtool-ltdl-2.4.7-1.amzn2023.0.3.x86_ 1.7 MB/s |  38 kB     00:00    
(16/25): libstdc++-devel-11.5.0-5.amzn2023.0.5.  72 MB/s | 2.2 MB     00:00    
(17/25): libxcrypt-devel-4.4.33-7.amzn2023.x86_ 1.5 MB/s |  32 kB     00:00    
(18/25): gcc-11.5.0-5.amzn2023.0.5.x86_64.rpm    80 MB/s |  36 MB     00:00    
(19/25): perl-Error-0.17029-5.amzn2023.0.2.noar 549 kB/s |  41 kB     00:00    
(20/25): make-4.3-5.amzn2023.0.2.x86_64.rpm     5.5 MB/s | 534 kB     00:00    
(21/25): perl-File-Find-1.37-477.amzn2023.0.7.n 1.1 MB/s |  25 kB     00:00    
(22/25): perl-Git-2.50.1-1.amzn2023.0.1.noarch. 1.6 MB/s |  41 kB     00:00    
(23/25): perl-TermReadKey-2.38-9.amzn2023.0.2.x 1.2 MB/s |  36 kB     00:00    
(24/25): perl-lib-0.65-477.amzn2023.0.7.x86_64. 630 kB/s |  15 kB     00:00    
(25/25): zlib-devel-1.2.11-33.amzn2023.0.5.x86_ 2.1 MB/s |  45 kB     00:00    
--------------------------------------------------------------------------------
Total                                           143 MB/s |  82 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : libmpc-1.2.1-2.amzn2023.0.2.x86_64                    1/25 
  Installing       : git-core-2.50.1-1.amzn2023.0.1.x86_64                 2/25 
  Installing       : git-core-doc-2.50.1-1.amzn2023.0.1.noarch             3/25 
  Installing       : cpp-11.5.0-5.amzn2023.0.5.x86_64                      4/25 
  Installing       : perl-lib-0.65-477.amzn2023.0.7.x86_64                 5/25 
  Installing       : perl-TermReadKey-2.38-9.amzn2023.0.2.x86_64           6/25 
  Installing       : perl-File-Find-1.37-477.amzn2023.0.7.noarch           7/25 
  Installing       : perl-Error-1:0.17029-5.amzn2023.0.2.noarch            8/25 
  Installing       : perl-Git-2.50.1-1.amzn2023.0.1.noarch                 9/25 
  Installing       : git-2.50.1-1.amzn2023.0.1.x86_64                     10/25 
  Installing       : libtool-ltdl-2.4.7-1.amzn2023.0.3.x86_64             11/25 
  Installing       : libstdc++-devel-11.5.0-5.amzn2023.0.5.x86_64         12/25 
  Installing       : kernel6.12-headers-1:6.12.64-87.122.amzn2023.x86_6   13/25 
  Installing       : glibc-headers-x86-2.34-231.amzn2023.0.1.noarch       14/25 
  Installing       : libxcrypt-devel-4.4.33-7.amzn2023.x86_64             15/25 
  Installing       : glibc-devel-2.34-231.amzn2023.0.1.x86_64             16/25 
  Installing       : gc-8.0.4-5.amzn2023.0.2.x86_64                       17/25 
  Installing       : guile22-2.2.7-2.amzn2023.0.3.x86_64                  18/25 
  Installing       : make-1:4.3-5.amzn2023.0.2.x86_64                     19/25 
  Installing       : gcc-11.5.0-5.amzn2023.0.5.x86_64                     20/25 
  Running scriptlet: gcc-11.5.0-5.amzn2023.0.5.x86_64                     20/25 
  Installing       : annobin-docs-12.69-1.amzn2023.0.1.noarch             21/25 
  Installing       : annobin-plugin-gcc-12.69-1.amzn2023.0.1.x86_64       22/25 
  Running scriptlet: annobin-plugin-gcc-12.69-1.amzn2023.0.1.x86_64       22/25 
  Installing       : gcc-c++-11.5.0-5.amzn2023.0.5.x86_64                 23/25 
  Installing       : gcc-plugin-annobin-11.5.0-5.amzn2023.0.5.x86_64      24/25 
  Installing       : zlib-devel-1.2.11-33.amzn2023.0.5.x86_64             25/25 
  Running scriptlet: zlib-devel-1.2.11-33.amzn2023.0.5.x86_64             25/25 
  Verifying        : annobin-docs-12.69-1.amzn2023.0.1.noarch              1/25 
  Verifying        : annobin-plugin-gcc-12.69-1.amzn2023.0.1.x86_64        2/25 
  Verifying        : cpp-11.5.0-5.amzn2023.0.5.x86_64                      3/25 
  Verifying        : gc-8.0.4-5.amzn2023.0.2.x86_64                        4/25 
  Verifying        : gcc-11.5.0-5.amzn2023.0.5.x86_64                      5/25 
  Verifying        : gcc-c++-11.5.0-5.amzn2023.0.5.x86_64                  6/25 
  Verifying        : gcc-plugin-annobin-11.5.0-5.amzn2023.0.5.x86_64       7/25 
  Verifying        : git-2.50.1-1.amzn2023.0.1.x86_64                      8/25 
  Verifying        : git-core-2.50.1-1.amzn2023.0.1.x86_64                 9/25 
  Verifying        : git-core-doc-2.50.1-1.amzn2023.0.1.noarch            10/25 
  Verifying        : glibc-devel-2.34-231.amzn2023.0.1.x86_64             11/25 
  Verifying        : glibc-headers-x86-2.34-231.amzn2023.0.1.noarch       12/25 
  Verifying        : guile22-2.2.7-2.amzn2023.0.3.x86_64                  13/25 
  Verifying        : kernel6.12-headers-1:6.12.64-87.122.amzn2023.x86_6   14/25 
  Verifying        : libmpc-1.2.1-2.amzn2023.0.2.x86_64                   15/25 
  Verifying        : libstdc++-devel-11.5.0-5.amzn2023.0.5.x86_64         16/25 
  Verifying        : libtool-ltdl-2.4.7-1.amzn2023.0.3.x86_64             17/25 
  Verifying        : libxcrypt-devel-4.4.33-7.amzn2023.x86_64             18/25 
  Verifying        : make-1:4.3-5.amzn2023.0.2.x86_64                     19/25 
  Verifying        : perl-Error-1:0.17029-5.amzn2023.0.2.noarch           20/25 
  Verifying        : perl-File-Find-1.37-477.amzn2023.0.7.noarch          21/25 
  Verifying        : perl-Git-2.50.1-1.amzn2023.0.1.noarch                22/25 
  Verifying        : perl-TermReadKey-2.38-9.amzn2023.0.2.x86_64          23/25 
  Verifying        : perl-lib-0.65-477.amzn2023.0.7.x86_64                24/25 
  Verifying        : zlib-devel-1.2.11-33.amzn2023.0.5.x86_64             25/25================================================================================
WARNING:
  A newer release of "Amazon Linux" is available.

  Available Versions:

  Version 2023.10.20260120:
    Run the following command to upgrade to 2023.10.20260120:

      dnf upgrade --releasever=2023.10.20260120

    Release notes:
     https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2023.10.20260120.html

================================================================================
 

Installed:
  annobin-docs-12.69-1.amzn2023.0.1.noarch                                      
  annobin-plugin-gcc-12.69-1.amzn2023.0.1.x86_64                                
  cpp-11.5.0-5.amzn2023.0.5.x86_64                                              
  gc-8.0.4-5.amzn2023.0.2.x86_64                                                
  gcc-11.5.0-5.amzn2023.0.5.x86_64                                              
  gcc-c++-11.5.0-5.amzn2023.0.5.x86_64                                          
  gcc-plugin-annobin-11.5.0-5.amzn2023.0.5.x86_64                               
  git-2.50.1-1.amzn2023.0.1.x86_64                                              
  git-core-2.50.1-1.amzn2023.0.1.x86_64                                         
  git-core-doc-2.50.1-1.amzn2023.0.1.noarch                                     
  glibc-devel-2.34-231.amzn2023.0.1.x86_64                                      
  glibc-headers-x86-2.34-231.amzn2023.0.1.noarch                                
  guile22-2.2.7-2.amzn2023.0.3.x86_64                                           
  kernel6.12-headers-1:6.12.64-87.122.amzn2023.x86_64                           
  libmpc-1.2.1-2.amzn2023.0.2.x86_64                                            
  libstdc++-devel-11.5.0-5.amzn2023.0.5.x86_64                                  
  libtool-ltdl-2.4.7-1.amzn2023.0.3.x86_64                                      
  libxcrypt-devel-4.4.33-7.amzn2023.x86_64                                      
  make-1:4.3-5.amzn2023.0.2.x86_64                                              
  perl-Error-1:0.17029-5.amzn2023.0.2.noarch                                    
  perl-File-Find-1.37-477.amzn2023.0.7.noarch                                   
  perl-Git-2.50.1-1.amzn2023.0.1.noarch                                         
  perl-TermReadKey-2.38-9.amzn2023.0.2.x86_64                                   
  perl-lib-0.65-477.amzn2023.0.7.x86_64                                         
  zlib-devel-1.2.11-33.amzn2023.0.5.x86_64                                      

Complete!
Cloning into 'bwa-mem2'...
Switched to a new branch 'arm-graviton-optimization'
branch 'arm-graviton-optimization' set up to track 'origin/arm-graviton-optimization'.
Submodule 'ext/safestringlib' (https://github.com/intel/safestringlib.git) registered for path 'ext/safestringlib'
Cloning into '/home/ec2-user/bwa-mem2/ext/safestringlib'...
Submodule path 'ext/safestringlib': checked out 'f5b47df51e0733e487e55691005e77a1f04787da'
Building BWA-MEM2...
mkdir -p ext/safestringlib/obj ext/safestringlib/objtest
make -C ext/safestringlib CC=gcc libsafestring.a
make[1]: Entering directory '/home/ec2-user/bwa-mem2/ext/safestringlib'
gcc -z noexecstack -z relo -z now -c -o obj/abort_handler_s.o safeclib/abort_handler_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
In file included from safeclib/abort_handler_s.c:32:
safeclib/abort_handler_s.c: In function â€˜abort_handler_sâ€™:
safeclib/safeclib_private.h:80:23: warning: implicit declaration of function â€˜abortâ€™ [-Wimplicit-function-declaration]
   80 | #define slabort()     abort()
      |                       ^~~~~
safeclib/abort_handler_s.c:72:9: note: in expansion of macro â€˜slabortâ€™
   72 |         slabort();
      |         ^~~~~~~
safeclib/abort_handler_s.c:33:1: note: include â€˜<stdlib.h>â€™ or provide a declaration of â€˜abortâ€™
   32 | #include "safeclib_private.h"
  +++ |+#include <stdlib.h>
   33 | 
In file included from safeclib/abort_handler_s.c:32:
safeclib/safeclib_private.h:80:23: warning: incompatible implicit declaration of built-in function â€˜abortâ€™ [-Wbuiltin-declaration-mismatch]
   80 | #define slabort()     abort()
      |                       ^~~~~
safeclib/abort_handler_s.c:72:9: note: in expansion of macro â€˜slabortâ€™
   72 |         slabort();
      |         ^~~~~~~
safeclib/safeclib_private.h:80:23: note: include â€˜<stdlib.h>â€™ or provide a declaration of â€˜abortâ€™
   80 | #define slabort()     abort()
      |                       ^~~~~
safeclib/abort_handler_s.c:72:9: note: in expansion of macro â€˜slabortâ€™
   72 |         slabort();
      |         ^~~~~~~
gcc -z noexecstack -z relo -z now -c -o obj/stpcpy_s.o safeclib/stpcpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strlastsame_s.o safeclib/strlastsame_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/ignore_handler_s.o safeclib/ignore_handler_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/stpncpy_s.o safeclib/stpncpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strljustify_s.o safeclib/strljustify_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memcmp16_s.o safeclib/memcmp16_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcasecmp_s.o safeclib/strcasecmp_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
safeclib/strcasecmp_s.c: In function â€˜strcasecmp_sâ€™:
safeclib/strcasecmp_s.c:132:13: warning: implicit declaration of function â€˜toupperâ€™ [-Wimplicit-function-declaration]
  132 |         if (toupper(*udest) != toupper(*usrc)) {
      |             ^~~~~~~
safeclib/strcasecmp_s.c:35:1: note: include â€˜<ctype.h>â€™ or provide a declaration of â€˜toupperâ€™
   34 | #include "safe_str_lib.h"
  +++ |+#include <ctype.h>
   35 | 
gcc -z noexecstack -z relo -z now -c -o obj/strncat_s.o safeclib/strncat_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memcmp32_s.o safeclib/memcmp32_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcasestr_s.o safeclib/strcasestr_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
safeclib/strcasestr_s.c: In function â€˜strcasestr_sâ€™:
safeclib/strcasestr_s.c:156:17: warning: implicit declaration of function â€˜toupperâ€™ [-Wimplicit-function-declaration]
  156 |             if (toupper(dest[i]) != toupper(src[i])) {
      |                 ^~~~~~~
safeclib/strcasestr_s.c:35:1: note: include â€˜<ctype.h>â€™ or provide a declaration of â€˜toupperâ€™
   34 | #include "safe_str_lib.h"
  +++ |+#include <ctype.h>
   35 | 
gcc -z noexecstack -z relo -z now -c -o obj/strncpy_s.o safeclib/strncpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memcmp_s.o safeclib/memcmp_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcat_s.o safeclib/strcat_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strnlen_s.o safeclib/strnlen_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memcpy16_s.o safeclib/memcpy16_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcmpfld_s.o safeclib/strcmpfld_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strnterminate_s.o safeclib/strnterminate_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memcpy32_s.o safeclib/memcpy32_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcmp_s.o safeclib/strcmp_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strpbrk_s.o safeclib/strpbrk_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memcpy_s.o safeclib/memcpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcpyfldin_s.o safeclib/strcpyfldin_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strprefix_s.o safeclib/strprefix_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memmove16_s.o safeclib/memmove16_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcpyfldout_s.o safeclib/strcpyfldout_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strremovews_s.o safeclib/strremovews_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memmove32_s.o safeclib/memmove32_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcpyfld_s.o safeclib/strcpyfld_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strspn_s.o safeclib/strspn_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memmove_s.o safeclib/memmove_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcpy_s.o safeclib/strcpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strstr_s.o safeclib/strstr_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/mem_primitives_lib.o safeclib/mem_primitives_lib.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strcspn_s.o safeclib/strcspn_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strtok_s.o safeclib/strtok_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strfirstchar_s.o safeclib/strfirstchar_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strtolowercase_s.o safeclib/strtolowercase_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memset16_s.o safeclib/memset16_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strfirstdiff_s.o safeclib/strfirstdiff_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strtouppercase_s.o safeclib/strtouppercase_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memset32_s.o safeclib/memset32_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strfirstsame_s.o safeclib/strfirstsame_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strzero_s.o safeclib/strzero_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memset_s.o safeclib/memset_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strisalphanumeric_s.o safeclib/strisalphanumeric_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wcpcpy_s.o safeclib/wcpcpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memzero16_s.o safeclib/memzero16_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strisascii_s.o safeclib/strisascii_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wcscat_s.o safeclib/wcscat_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memzero32_s.o safeclib/memzero32_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strisdigit_s.o safeclib/strisdigit_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wcscpy_s.o safeclib/wcscpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/memzero_s.o safeclib/memzero_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strishex_s.o safeclib/strishex_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wcsncat_s.o safeclib/wcsncat_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strislowercase_s.o safeclib/strislowercase_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wcsncpy_s.o safeclib/wcsncpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/safe_mem_constraint.o safeclib/safe_mem_constraint.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strismixedcase_s.o safeclib/strismixedcase_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wcsnlen_s.o safeclib/wcsnlen_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strispassword_s.o safeclib/strispassword_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wmemcmp_s.o safeclib/wmemcmp_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/safe_str_constraint.o safeclib/safe_str_constraint.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strisuppercase_s.o safeclib/strisuppercase_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wmemcpy_s.o safeclib/wmemcpy_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strlastchar_s.o safeclib/strlastchar_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wmemmove_s.o safeclib/wmemmove_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/snprintf_support.o safeclib/snprintf_support.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/strlastdiff_s.o safeclib/strlastdiff_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
gcc -z noexecstack -z relo -z now -c -o obj/wmemset_s.o safeclib/wmemset_s.c -Iinclude -fstack-protector-strong -fPIE -fPIC -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
ar rcs libsafestring.a obj/abort_handler_s.o obj/stpcpy_s.o obj/strlastsame_s.o obj/ignore_handler_s.o obj/stpncpy_s.o obj/strljustify_s.o obj/memcmp16_s.o obj/strcasecmp_s.o obj/strncat_s.o obj/memcmp32_s.o obj/strcasestr_s.o obj/strncpy_s.o obj/memcmp_s.o obj/strcat_s.o obj/strnlen_s.o obj/memcpy16_s.o obj/strcmpfld_s.o obj/strnterminate_s.o obj/memcpy32_s.o obj/strcmp_s.o obj/strpbrk_s.o obj/memcpy_s.o obj/strcpyfldin_s.o obj/strprefix_s.o obj/memmove16_s.o obj/strcpyfldout_s.o obj/strremovews_s.o obj/memmove32_s.o obj/strcpyfld_s.o obj/strspn_s.o obj/memmove_s.o obj/strcpy_s.o obj/strstr_s.o obj/mem_primitives_lib.o obj/strcspn_s.o obj/strtok_s.o obj/strfirstchar_s.o obj/strtolowercase_s.o obj/memset16_s.o obj/strfirstdiff_s.o obj/strtouppercase_s.o obj/memset32_s.o obj/strfirstsame_s.o obj/strzero_s.o obj/memset_s.o obj/strisalphanumeric_s.o obj/wcpcpy_s.o obj/memzero16_s.o obj/strisascii_s.o obj/wcscat_s.o obj/memzero32_s.o obj/strisdigit_s.o obj/wcscpy_s.o obj/memzero_s.o obj/strishex_s.o obj/wcsncat_s.o obj/strislowercase_s.o obj/wcsncpy_s.o obj/safe_mem_constraint.o obj/strismixedcase_s.o obj/wcsnlen_s.o obj/strispassword_s.o obj/wmemcmp_s.o obj/safe_str_constraint.o obj/strisuppercase_s.o obj/wmemcpy_s.o obj/strlastchar_s.o obj/wmemmove_s.o obj/snprintf_support.o obj/strlastdiff_s.o obj/wmemset_s.o
make[1]: Leaving directory '/home/ec2-user/bwa-mem2/ext/safestringlib'
g++ -c -g -O3 -fpermissive -march=native  -DENABLE_PREFETCH -DV17=1 -DMATE_SORT=0 -DSAIS=1  -Isrc -Iext/safestringlib/include src/fastmap.cpp -o src/fastmap.o
src/fastmap.cpp:52:51: error: macro "__cpuid" requires 5 arguments, but only 2 given
   52 | void __cpuid(unsigned int i, unsigned int cpuid[4]) {
      |                                                   ^
In file included from src/platform_compat.h:54,
                 from src/fastmap.cpp:41:
/usr/lib/gcc/x86_64-amazon-linux/11/include/cpuid.h:227: note: macro "__cpuid" defined here
  227 | #define __cpuid(level, a, b, c, d)                                      \
      | 
src/fastmap.cpp:61:21: error: macro "__cpuid" requires 5 arguments, but only 2 given
   61 |     __cpuid(0, cpuid);
      |                     ^
In file included from src/platform_compat.h:54,
                 from src/fastmap.cpp:41:
/usr/lib/gcc/x86_64-amazon-linux/11/include/cpuid.h:227: note: macro "__cpuid" defined here
  227 | #define __cpuid(level, a, b, c, d)                                      \
      | 
src/fastmap.cpp:67:21: error: macro "__cpuid" requires 5 arguments, but only 2 given
   67 |     __cpuid(1, cpuid);
      |                     ^
In file included from src/platform_compat.h:54,
                 from src/fastmap.cpp:41:
/usr/lib/gcc/x86_64-amazon-linux/11/include/cpuid.h:227: note: macro "__cpuid" defined here
  227 | #define __cpuid(level, a, b, c, d)                                      \
      | 
src/fastmap.cpp:76:25: error: macro "__cpuid" requires 5 arguments, but only 2 given
   76 |         __cpuid(4, cpuid);
      |                         ^
In file included from src/platform_compat.h:54,
                 from src/fastmap.cpp:41:
/usr/lib/gcc/x86_64-amazon-linux/11/include/cpuid.h:227: note: macro "__cpuid" defined here
  227 | #define __cpuid(level, a, b, c, d)                                      \
      | 
In file included from src/bwamem.h:47,
                 from src/fastmap.h:45,
                 from src/fastmap.cpp:39:
src/kstring.h: In function â€˜int kputsn(const char*, int, kstring_t*)â€™:
src/kstring.h:69:55: warning: ISO C++ forbids converting a string constant to â€˜char*â€™ [-Wwrite-strings]
   69 |         memcpy_bwamem(s->s + s->l, s->m - s->l, p, l, __FILE__, __LINE__);
      |                                                       ^~~~~~~~
src/fastmap.cpp: At global scope:
src/fastmap.cpp:52:6: error: variable or field â€˜__cpuidâ€™ declared void
   52 | void __cpuid(unsigned int i, unsigned int cpuid[4]) {
      |      ^~~~~~~
src/fastmap.cpp:53:26: error: â€˜cpuidâ€™ was not declared in this scope
   53 |     platform_cpuid((int*)cpuid, (int)i);
      |                          ^~~~~
src/fastmap.cpp:53:38: error: â€˜iâ€™ was not declared in this scope
   53 |     platform_cpuid((int*)cpuid, (int)i);
      |                                      ^
src/fastmap.cpp:53:40: error: expected â€˜}â€™ before â€˜;â€™ token
   53 |     platform_cpuid((int*)cpuid, (int)i);
      |                                        ^
src/fastmap.cpp:52:53: note: to match this â€˜{â€™
   52 | void __cpuid(unsigned int i, unsigned int cpuid[4]) {
      |                                                     ^
src/fastmap.cpp:54:1: error: expected declaration before â€˜}â€™ token
   54 | }
      | ^
src/fastmap.cpp: In function â€˜int HTStatus()â€™:
src/fastmap.cpp:61:5: error: â€˜__cpuidâ€™ was not declared in this scope; did you mean â€˜cpuidâ€™?
   61 |     __cpuid(0, cpuid);
      |     ^~~~~~~
      |     cpuid
make: *** [Makefile:99: src/fastmap.o] Error 1
